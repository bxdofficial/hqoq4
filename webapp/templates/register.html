{% extends 'base.html' %}
{% block title %}ุฅูุดุงุก ุญุณุงุจ | ุญูููู{% endblock %}

{% block content %}
<section class="form-wrap glass fade-in">
  <h2>ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h2>
  <p class="subtitle">ุงูุถู ุฅูู ููุตุฉ ุญูููู ุงูููู</p>
  
  <form method="post" action="/register" id="register-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
    
    <div class="form-group">
      <label for="full_name">
        <i data-lucide="user" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-left:6px"></i>
        ุงูุงุณู ุงููุงูู
      </label>
      <input 
        name="full_name" 
        id="full_name"
        type="text"
        placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู"
        required 
        autocomplete="name"
      />
    </div>
    
    <div class="form-group">
      <label for="email">
        <i data-lucide="mail" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-left:6px"></i>
        ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
      </label>
      <input 
        name="email" 
        id="email"
        type="email" 
        placeholder="example@email.com"
        required 
        autocomplete="email"
      />
    </div>
    
    <div class="form-group">
      <label for="password">
        <i data-lucide="lock" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-left:6px"></i>
        ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ุนูู ุงูุฃูู)
      </label>
      <input 
        name="password" 
        id="password"
        type="password" 
        placeholder="โขโขโขโขโขโขโขโข"
        minlength="8" 
        required 
        autocomplete="new-password"
      />
    </div>
    
    <div class="form-group">
      <label for="user_type">
        <i data-lucide="users" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-left:6px"></i>
        ููุน ุงูุญุณุงุจ
      </label>
      <select name="user_type" id="user_type">
        <option value="client">๐ค ุนููู - ุฃุจุญุซ ุนู ูุญุงูู</option>
        <option value="lawyer">โ๏ธ ูุญุงูู - ุฃูุฏู ุฎุฏูุงุช ูุงููููุฉ</option>
      </select>
    </div>
    
    <div id="bar-field" class="form-group hidden">
      <label for="bar_registration_number">
        <i data-lucide="badge" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-left:6px"></i>
        ุฑูู ุงูููุฏ ุจููุงุจุฉ ุงููุญุงููู
      </label>
      <input 
        name="bar_registration_number" 
        id="bar_registration_number"
        type="text"
        placeholder="ุฃุฏุฎู ุฑูู ุงูููุฏ"
      />
      <small style="color: var(--text-muted); font-size: 12px; margin-top: 6px; display: block;">
        ุณูุชู ุงูุชุญูู ูู ุฑูู ุงูููุฏ ูู ููุงุจุฉ ุงููุญุงููู
      </small>
    </div>
    
    <div class="form-actions">
      <button class="btn btn-gold" type="submit">
        <i data-lucide="user-plus" style="width:18px;height:18px"></i>
        ุฅูุดุงุก ุงูุญุณุงุจ
      </button>
    </div>
  </form>
  
  <div class="form-footer">
    <p>ูุฏูู ุญุณุงุจ ุจุงููุนูุ <a href="/login">ุณุฌูู ุฏุฎููู</a></p>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  const typeSelect = document.getElementById('user_type');
  const barField = document.getElementById('bar-field');
  const barInput = document.getElementById('bar_registration_number');
  
  if (typeSelect && barField) {
    const toggle = () => {
      const isLawyer = typeSelect.value === 'lawyer';
      barField.classList.toggle('hidden', !isLawyer);
      barInput.required = isLawyer;
    };
    typeSelect.addEventListener('change', toggle);
    toggle();
  }
</script>
{% endblock %}
